function [u] = Simulink_Controller_LQR(inputs)

q = inputs(1:6);
qp = inputs(7:12);
Xref = inputs(13:24);


X = [q;qp];
Ueq = [5.5;5.5;5.5;5.5];
Erro = X - Xref;


K = [-7.0711,-8.2433e-12,5,2.1598e-11,-19.431,1.5811,-7.2868,-9.5463e-12,4.2569,2.7013e-14,-2.6616,2.2863;
8.2475e-12,-7.0711,5,19.431,-2.1355e-11,-1.5811,8.7728e-12,-7.2868,4.2569,2.6616,-8.9232e-13,-2.2863;
7.0711,-5.9055e-12,5,-6.2893e-11,19.431,1.5811,7.2868,-6.3726e-12,4.2569,-8.8319e-13,2.6616,2.2863;
5.8796e-12,7.0711,5,-19.431,-2.0111e-11,-1.5811,7.1032e-12,7.2868,4.2569,-2.6616,3.5706e-14,-2.2863];


u = -K*Erro + Ueq;

end

